'use strict';var TextToIPA={location:'./ipadict.txt',ipadict:{},parseDict:function(lines){console.log("beginning parsing to dict...");for(var i=0;i<lines.length;i+=1){var arr=lines[i].split(/\s+/g);this.ipadict[arr[0]]=arr[1]}console.log("done parsing")},loadDict:function(){console.log('loading dict...');var txtFile=new XMLHttpRequest();txtFile.open('GET',this.location,true);txtFile.onreadystatechange=function(){if(txtFile.readyState==4){if(txtFile.status==200||txtFile.status==0){TextToIPA.parseDict(txtFile.responseText.split("\n"))}}};txtFile.send(null)},lookup:function(word){if(typeof this.ipadict[word]!="undefined"){if(typeof this.ipadict[word+"(1)"]!="undefined"){if(typeof this.ipadict[word+"(2)"]!="undefined"){if(typeof this.ipadict[word+"(3)"]!="undefined"){return["multi",this.ipadict[word]+" OR "+this.ipadict[word+"(1)"]+" OR "+this.ipadict[word+"(2)"]+" OR "+this.ipadict[word+"(3)"]]}else{return["multi",this.ipadict[word]+" OR "+this.ipadict[word+"(1)"]+" OR "+this.ipadict[word+"(2)"]]}}else{return["multi",this.ipadict[word]+" OR "+this.ipadict[word+"(1)"]]}}else{return["normal",this.ipadict[word]]}}else{return[undefined,word]}}};window.onload=TextToIPA.loadDict();
